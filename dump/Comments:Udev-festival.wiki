У меня не работает почему то. Такое впечатление что после [ -z "$DEVICE" ] && exit [ -z "$ACTION" ] && exit ...Скрипт выходит. 
: $DEVICE и $ACTION не установлены, очевидно же. сделай echo $DEVICE $ACTION и смотри, где-то в udev-рулесах косяк. А вообще белка уже наваял более крутой скрипт на пейтоне, ищи в его темах.