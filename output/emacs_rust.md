# –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å emacs-–ø–∞–∫–µ—Ç
[rust-mode](http://melpa.org/#/rust-mode) –∏ –¥–æ–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª
–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

    (autoload 'rust-mode "rust-mode" nil t)
    (add-to-list 'auto-mode-alist '("\\.rs\\'" . rust-mode))

# –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏

–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É
[racer](https://github.com/phildawes/racer), –ø–µ—Ä–µ–¥ –µ–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

  - –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —è–∑—ã–∫–∞ - [rust-lang](http://www.rust-lang.org/)

–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–æ—á–Ω—É—é —Å–±–æ—Ä–∫—É, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ –¥–∞–Ω–Ω—ã–π
–º–æ–º–µ–Ω—Ç (02-05-2015) [racer](https://github.com/phildawes/racer)
–æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—

  - –ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è rust -
    [cargo](http://doc.crates.io/index.html)
  - –°–∫–∞—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã rust -
    [git](https://github.com/rust-lang/rust.git)

–î–ª—è archlinux –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≥–æ—Ç–æ–≤—ã–º–∏ –±–∏–Ω–∞—Ä–Ω—ã–º–∏
–ø–∞–∫–µ—Ç–∞–º–∏ –∏–∑ AUR, —Å –Ω–∏–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –±—É–¥–µ—Ç
–≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

    yaourt -S rust-nightly-bin
    yaourt -S racer-git
    git clone --recursive https://github.com/rust-lang/rust.git ~/.local/share/rust_src

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–Ω–æ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —É–∫–∞–∑–∞–≤
–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø—É—Ç—å –∫ —Å–∫–∞—á–∞–Ω–Ω—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–∞–º rust:

    export RUST_SRC_PATH=~/.local/share/rust_src/src
    racer complete std::io::B

–í –æ—Ç–≤–µ—Ç racer –¥–æ–ª–∂–µ–Ω –≤—ã–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è.

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ emacs, –Ω–µ–æ–±—Ö–æ–¥–∏–º emacs-–ø–∞–∫–µ—Ç
[company](http://melpa.org/#/company), –ø–æ—Å–ª–µ –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ emacs —Å—Ç—Ä–æ–∫–∏:

    (setq racer-rust-src-path "~/.local/share/rust_src/src")
    (setq racer-cmd "/usr/bin/racer")
    ;; (add-to-list 'load-path "<path-to-racer>/editors")
    (eval-after-load "rust-mode" '(require 'racer))

–ì–¥–µ –∑–∞–∫–æ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ - —É–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ
[editors](https://github.com/phildawes/racer/tree/master/editors), –µ—Å–ª–∏
racer –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é, –µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞—Å–∫–æ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–∫–∞–∑–∞—Ç—å
–∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—É—Ç—å, –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ racer —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç, —ç—Ç–æ—Ç –ø—É—Ç—å —Å–∫–æ—Ä–µ–µ
–≤—Å–µ–≥–æ —É–∂–µ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ emacs.

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ emacs –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å "go to the defenition" (–ø–æ
—É–º–æ–ª—á–∞–Ω–∏—é –ø–æ M-.) –∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ Tab).

# –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –≤–æ –≤—Ä–µ–º—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ - –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ª–∏–±–æ —á–µ—Ä–µ–∑
emacs-–ø–∞–∫–µ—Ç [flymake-rust](http://melpa.org/#/flymake-rust), –ª–∏–±–æ –ø—Ä–∏
–ø–æ–º–æ—â–∏ [flycheck-rust](http://melpa.org/#/flycheck-rust). –î–ª—è
–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥:

    (eval-after-load 'flycheck
      '(add-hook 'flycheck-mode-hook #'flycheck-rust-setup))

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

–ö–æ–º–ø–∏–ª—è—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ rust –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π "rustc",
–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–µ–¥—É–µ—Ç –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–∞–∫–µ—Ç–æ–≤ "cargo".
–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥, –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞ "Cargo.toml" –≤
—Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏–ª–∏ –≤—ã—à–µ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, —Ç–æ
–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ "cargo", –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º
—Å–ª—É—á–∞–µ - –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª —á–µ—Ä–µ–∑ "rustc".

    (defun lcl:rust-compile-hook ()
      (require 'compile)
      (set (make-local-variable 'compile-command)
           (if (locate-dominating-file (buffer-file-name) "Cargo.toml")
               "cargo run"
             (format "rustc %s && %s" (buffer-file-name)
                     (file-name-sans-extension (buffer-file-name))))))

    (setq-default compilation-read-command nil)
    (add-hook 'rust-mode-hook 'lcl:rust-compile-hook)

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ —Ñ–∞–π–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç
–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é –Ω–∞ –ª—é–±–æ–º –æ—Ç–∫—Ä—ã—Ç–æ–º —Ñ–∞–π–ª–µ rust –≤—ã–∑–≤–∞–≤
–≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É "compile" (M-x compile)

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å
[—Ç—É—Ç](http://reangdblog.blogspot.com/2015/04/emacs-ide-rust.html)